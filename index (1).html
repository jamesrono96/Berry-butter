<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Berry & Butter Cakes ‚Äì Melts in your tongue!</title>
  <meta name="description" content="Berry & Butter Cakes ‚Äî Kibomet, Namawanga. Fresh custom cakes, cupcakes and treats. Order via phone or WhatsApp.">
  <meta name="theme-color" content="#8b5cf6">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=Pacifico&display=swap" rel="stylesheet">

  <style>
    :root{
      --purple-1:#4c1d95;
      --purple-2:#7c3aed;
      --accent:#ffd24d;
      --muted:#d6ccf6;
      --card:#ffffff;
      --card-text:#1f2937;
      --radius:14px;
      --shadow:0 12px 30px rgba(15,23,42,.18);
      --header-h:72px;
    }

    /* Base reset */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:linear-gradient(135deg,var(--purple-1),var(--purple-2));
      color: #fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
    }
    a{color:inherit}
    img{display:block;max-width:100%;height:auto}

    /* Header */
    .site-header{
      position:fixed;left:0;right:0;top:0;height:var(--header-h);display:flex;align-items:center;
      justify-content:space-between;padding:10px 20px;z-index:1200;
      background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
      backdrop-filter: blur(6px);
      border-bottom:1px solid rgba(255,255,255,0.04);
    }
    .logo{font-family:'Pacifico',cursive;font-size:1.45rem;color:var(--accent);text-decoration:none}
    .logo span{color:#fff}
    .nav{display:flex;align-items:center;gap:12px}
    .nav a{color:rgba(255,255,255,0.95);text-decoration:none;font-weight:600;padding:8px 10px;border-radius:10px;transition:background .18s, transform .12s}
    .nav a:hover{background:rgba(255,255,255,0.06);transform:translateY(-2px)}
    .cta{background:var(--accent);color:var(--purple-1);padding:8px 12px;border-radius:12px;font-weight:800}
    .menu-toggle{display:none;background:none;border:0;color:#fff;font-size:1.6rem;cursor:pointer}

    /* Cart icon */
    .cart-wrap{position:relative}
    .cart-btn{
      display:inline-flex;align-items:center;justify-content:center;width:46px;height:46px;border-radius:10px;background:rgba(255,255,255,0.06);
      cursor:pointer;border:0;color:#fff;font-size:1.25rem;margin-left:8px;position:relative;
    }
    .cart-badge{
      position:absolute;top:-6px;right:-6px;background:var(--accent);color:var(--purple-1);
      min-width:20px;height:20px;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;
      font-weight:800;font-size:0.75rem;padding:0 6px;border:2px solid rgba(255,255,255,0.06)
    }

    /* Cart dropdown */
    .cart-dropdown{
      position:absolute;right:0;top:62px;width:320px;background:var(--card);color:var(--card-text);
      border-radius:12px;padding:12px;box-shadow:var(--shadow);display:none;z-index:1300;
    }
    .cart-dropdown.active{display:block}
    .cart-dropdown h4{margin:0 0 10px;color:var(--purple-1)}
    .cart-items{max-height:220px;overflow:auto;padding-right:6px}
    .cart-item{display:flex;gap:10px;align-items:center;margin-bottom:10px}
    .cart-item .thumb{width:56px;height:44px;border-radius:8px;object-fit:cover;border:1px solid #eee}
    .cart-item .meta{flex:1}
    .cart-item .meta .name{font-weight:700}
    .cart-item .meta .price{font-size:0.9rem;color:#444}
    .qty-controls{display:flex;gap:6px;align-items:center;margin-top:6px}
    .qty-controls button{background:transparent;border:1px solid #e6e6e6;padding:4px 8px;border-radius:8px;cursor:pointer}
    .cart-footer{border-top:1px solid #f1f1f1;padding-top:10px;display:flex;flex-direction:column;gap:8px}
    .total-row{display:flex;justify-content:space-between;align-items:center;font-weight:800}
    .checkout-btn{background:var(--purple-1);color:#fff;padding:10px;border-radius:10px;border:0;cursor:pointer}
    .empty{color:#666;text-align:center;padding:18px 0}

    /* Hero / slideshow */
    .hero{margin-top:var(--header-h);height:420px;position:relative;border-bottom-left-radius:26px;border-bottom-right-radius:26px;overflow:hidden;margin-left:8px;margin-right:8px;box-shadow:0 18px 40px rgba(0,0,0,.18)}
    .slides{position:absolute;inset:0}
    .slides img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;animation:slide 20s infinite}
    .slides img:nth-child(1){animation-delay:0s}
    .slides img:nth-child(2){animation-delay:5s}
    .slides img:nth-child(3){animation-delay:10s}
    .slides img:nth-child(4){animation-delay:15s}
    @keyframes slide{0%{opacity:0}10%{opacity:1}25%{opacity:1}35%{opacity:0}100%{opacity:0}}

    .hero-overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(12,7,30,0.18), rgba(12,7,30,0.35));pointer-events:none}
    .hero-content{position:relative;z-index:2;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:18px}
    .hero-title{font-family:'Pacifico',cursive;font-size:42px;color:var(--accent);text-shadow:0 8px 30px rgba(0,0,0,.45)}
    .hero-sub{font-weight:600;margin-top:6px;color:rgba(255,255,255,0.95)}

    .hero-actions{margin-top:14px;display:flex;gap:10px;align-items:center;justify-content:center}
    .btn{padding:10px 16px;border-radius:12px;border:0;cursor:pointer;font-weight:700}
    .btn-primary{background:var(--accent);color:var(--purple-1)}
    .btn-ghost{background:transparent;color:#fff;border:1px solid rgba(255,255,255,0.12)}

    /* Main content - menu */
    .section{padding:48px 20px}
    .container{max-width:1100px;margin:0 auto}
    .section-title{font-size:28px;margin:0 0 18px;color:var(--accent);text-align:center}

    .cake-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
    .card{
      border-radius:14px;padding:14px;background:rgba(255,255,255,0.95);color:var(--card-text);box-shadow:var(--shadow);
      display:flex;flex-direction:column;gap:10px;
    }
    .card img{height:150px;object-fit:cover;border-radius:10px}
    .card h3{margin:0;font-size:1.05rem;color:var(--purple-1)}
    .card p.price{margin:0;font-weight:800;color:var(--purple-2)}
    .card .add{margin-top:auto;background:var(--purple-1);color:#fff;padding:8px;border-radius:10px;border:0;cursor:pointer}

    /* floating buttons */
    .floating{
      position:fixed;right:18px;bottom:18px;display:flex;flex-direction:column;gap:12px;z-index:1300
    }
    .float-btn{width:56px;height:56px;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;color:#fff;text-decoration:none;font-size:22px;box-shadow:0 8px 30px rgba(0,0,0,.18)}
    .float-wa{background:#25D366}
    .float-call{background:var(--purple-1)}

    /* About / contact */
    .about-grid{display:grid;grid-template-columns:1fr 340px;gap:20px;align-items:start}
    .about-card{background:rgba(255,255,255,0.05);padding:16px;border-radius:12px}
    .contact-card{background:#fff;padding:12px;border-radius:12px;color:var(--card-text)}
    .contact-card a{display:block;margin-bottom:8px;color:var(--purple-1);text-decoration:none}

    /* Footer */
    footer{padding:18px 20px;color:rgba(255,255,255,0.9);text-align:center;margin-top:18px}

    /* Mobile */
    @media (max-width:880px){
      .nav{display:none;position:absolute;right:12px;top:var(--header-h);flex-direction:column;background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));padding:10px;border-radius:10px}
      .menu-toggle{display:block}
      .hero{height:320px;margin-left:10px;margin-right:10px}
      .about-grid{grid-template-columns:1fr}
    }

    /* Reduced motion */
    @media (prefers-reduced-motion:reduce){
      .slides img{animation:none;opacity:1}
    }

    /* small helpers */
    .muted{color:rgba(255,255,255,0.85)}
    .text-muted{color:#666}
    .small{font-size:0.9rem}
  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <a class="logo" href="#home">Berry <span>&</span> Butter</a>
    <nav class="nav" id="nav" aria-label="Main Navigation">
      <a href="#menu">Menu</a>
      <a href="#gallery">Gallery</a>
      <a href="#about">About</a>
      <a href="#contact" class="cta">Order</a>
      <div class="cart-wrap" id="cartWrap" style="margin-left:6px">
        <button class="cart-btn" id="cartBtn" aria-label="Open cart">üõí</button>
        <div class="cart-badge" id="cartBadge" style="display:none">0</div>
        <div class="cart-dropdown" id="cartDrop" aria-live="polite">
          <h4>Your Cart</h4>
          <div class="cart-items" id="cartItems"></div>
          <div class="cart-footer">
            <div class="total-row"><span>Subtotal</span><span id="cartTotal">Ksh. 0</span></div>
            <button class="checkout-btn" id="checkoutBtn">Checkout via WhatsApp</button>
          </div>
        </div>
      </div>
    </nav>

    <button class="menu-toggle" id="menuToggle" aria-label="Menu toggle">‚ò∞</button>
  </header>

  <!-- HERO -->
  <section class="hero" id="home" aria-label="Featured cakes">
    <div class="slides" id="slides" aria-hidden="true">
      <!-- Replace these with your banner images (others/...) -->
      <img src="others/cake1.jpg" alt="Banner cake 1" loading="eager">
      <img src="others/cake2.jpg" alt="Banner cake 2" loading="lazy">
      <img src="others/cake3.jpg" alt="Banner cake 3" loading="lazy">
      <img src="others/cake4.jpg" alt="Banner cake 4" loading="lazy">
    </div>
    <div class="hero-overlay" aria-hidden="true"></div>
    <div class="hero-content container">
      <div class="hero-title">Berry &amp; Butter Cakes</div>
      <div class="hero-sub">Melts in your tongue ‚Äî fresh, custom & delivered with love.</div>
      <div class="hero-actions">
        <a href="#menu" class="btn btn-primary">See Menu</a>
        <a href="https://wa.me/254706098555?text=Hi%20Berry%20%26%20Butter!" target="_blank" class="btn btn-ghost">Order on WhatsApp</a>
      </div>
    </div>
  </section>

  <!-- MENU -->
<section class="section" id="menu">
  <div class="container">
    <div class="section-title">Our Cakes Menu</div>
    <div class="cake-grid" style="margin-top:18px">

      <!-- 2,500 -->
      <div class="card">
        <img src="images/red-velvet.jpg" alt="Red Velvet cake" loading="lazy">
        <h3>Red Velvet</h3>
        <p class="price">Ksh. 2,500</p>
        <button class="add" data-id="red-velvet" data-name="Red Velvet" data-price="2500">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/white-forest.jpg" alt="White Forest cake" loading="lazy">
        <h3>White Forest</h3>
        <p class="price">Ksh. 2,500</p>
        <button class="add" data-id="white-forest" data-name="White Forest" data-price="2500">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/black-forest.jpg" alt="Black Forest cake" loading="lazy">
        <h3>Black Forest</h3>
        <p class="price">Ksh. 2,500</p>
        <button class="add" data-id="black-forest" data-name="Black Forest" data-price="2500">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/fruit-cake.jpg" alt="Fruit cake" loading="lazy">
        <h3>Fruit Cake</h3>
        <p class="price">Ksh. 2,500</p>
        <button class="add" data-id="fruit-cake" data-name="Fruit Cake" data-price="2500">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/oreo.jpg" alt="Oreo cake" loading="lazy">
        <h3>Oreo</h3>
        <p class="price">Ksh. 2,500</p>
        <button class="add" data-id="oreo" data-name="Oreo" data-price="2500">Add to cart</button>
      </div>

      <!-- 2,000 -->
      <div class="card">
        <img src="images/vanilla.jpg" alt="Vanilla cake" loading="lazy">
        <h3>Vanilla</h3>
        <p class="price">Ksh. 2,000</p>
        <button class="add" data-id="vanilla" data-name="Vanilla" data-price="2000">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/orange.jpg" alt="Orange cake" loading="lazy">
        <h3>Orange</h3>
        <p class="price">Ksh. 2,000</p>
        <button class="add" data-id="orange" data-name="Orange" data-price="2000">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/lemon.jpg" alt="Lemon cake" loading="lazy">
        <h3>Lemon</h3>
        <p class="price">Ksh. 2,000</p>
        <button class="add" data-id="lemon" data-name="Lemon" data-price="2000">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/strawberry.jpg" alt="Strawberry cake" loading="lazy">
        <h3>Strawberry</h3>
        <p class="price">Ksh. 2,000</p>
        <button class="add" data-id="strawberry" data-name="Strawberry" data-price="2000">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/pineapple.jpg" alt="Pineapple cake" loading="lazy">
        <h3>Pineapple</h3>
        <p class="price">Ksh. 2,000</p>
        <button class="add" data-id="pineapple" data-name="Pineapple" data-price="2000">Add to cart</button>
      </div>

      <!-- 2,100 -->
      <div class="card">
        <img src="images/chocolate.jpg" alt="Chocolate cake" loading="lazy">
        <h3>Chocolate</h3>
        <p class="price">Ksh. 2,100</p>
        <button class="add" data-id="chocolate" data-name="Chocolate" data-price="2100">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/chocolate-mint.jpg" alt="Chocolate mint cake" loading="lazy">
        <h3>Chocolate Mint</h3>
        <p class="price">Ksh. 2,100</p>
        <button class="add" data-id="chocolate-mint" data-name="Chocolate Mint" data-price="2100">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/chocolate-orange.jpg" alt="Chocolate orange cake" loading="lazy">
        <h3>Chocolate Orange</h3>
        <p class="price">Ksh. 2,100</p>
        <button class="add" data-id="chocolate-orange" data-name="Chocolate Orange" data-price="2100">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/pina-colada.jpg" alt="Pina Colada cake" loading="lazy">
        <h3>Pina Colada</h3>
        <p class="price">Ksh. 2,100</p>
        <button class="add" data-id="pina-colada" data-name="Pina Colada" data-price="2100">Add to cart</button>
      </div>

      <div class="card">
        <img src="images/blue-berry.jpg" alt="Blueberry cake" loading="lazy">
        <h3>Blue Berry</h3>
        <p class="price">Ksh. 2,100</p>
        <button class="add" data-id="blue-berry" data-name="Blue Berry" data-price="2100">Add to cart</button>
      </div>

      <!-- Optional: You can keep adding more like Carrot Cake, Lemon Poppy Seed, etc. -->
    </div>
  </div>
</section>


<!-- GALLERY -->
<section class="section" id="gallery">
  <div class="container">
    <div class="section-title">Our Happy Customers</div>
    <p class="muted">Here are some of the delicious cakes our clients have purchased. Your dream cake could be next!</p>

    <div class="gallery-grid">
      <!-- Cake 1 -->
      <div class="gallery-item">
        <img src="others/cake1.jpg" alt="Cake 1">
        <div class="overlay">
          <p>Client Favorite üéÇ</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 2 -->
      <div class="gallery-item">
        <img src="others/cake2.jpg" alt="Cake 2">
        <div class="overlay">
          <p>Birthday Special üéâ</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 3 -->
      <div class="gallery-item">
        <img src="others/cake3.jpg" alt="Cake 3">
        <div class="overlay">
          <p>Elegant & Tasty üç∞</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 4 -->
      <div class="gallery-item">
        <img src="others/cake4.jpg" alt="Cake 4">
        <div class="overlay">
          <p>Perfect for Sharing üç©</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 5 -->
      <div class="gallery-item">
        <img src="others/cake5.jpg" alt="Cake 5">
        <div class="overlay">
          <p>Sweet Celebration üéä</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 6 -->
      <div class="gallery-item">
        <img src="others/cake6.jpg" alt="Cake 6">
        <div class="overlay">
          <p>Chocolate Lovers üç´</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 7 -->
      <div class="gallery-item">
        <img src="others/cake7.jpg" alt="Cake 7">
        <div class="overlay">
          <p>Deliciously Fresh üçì</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 8 -->
      <div class="gallery-item">
        <img src="others/cake8.jpg" alt="Cake 8">
        <div class="overlay">
          <p>Simply Irresistible üòç</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 9 -->
      <div class="gallery-item">
        <img src="others/cake9.jpg" alt="Cake 9">
        <div class="overlay">
          <p>Fluffy Delight ‚òÅÔ∏è</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 10 -->
      <div class="gallery-item">
        <img src="others/cake10.jpg" alt="Cake 10">
        <div class="overlay">
          <p>Golden Treat ‚ú®</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 11 -->
      <div class="gallery-item">
        <img src="others/cake11.jpg" alt="Cake 11">
        <div class="overlay">
          <p>Luxury Taste üçÆ</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 12 -->
      <div class="gallery-item">
        <img src="others/cake12.jpg" alt="Cake 12">
        <div class="overlay">
          <p>Customer‚Äôs Choice üèÜ</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 13 -->
      <div class="gallery-item">
        <img src="others/cake13.jpg" alt="Cake 13">
        <div class="overlay">
          <p>Sweet Memories üíï</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>

      <!-- Cake 14 -->
      <div class="gallery-item">
        <img src="others/cake14.jpg" alt="Cake 14">
        <div class="overlay">
          <p>Wedding Beauty üíç</p>
          <a href="#contact" class="btn">Order Yours</a>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }

  .gallery-item {
    position: relative;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  }

  .gallery-item img {
    width: 100%;
    height: 220px;
    object-fit: cover;
    transition: transform 0.4s ease;
  }

  .gallery-item:hover img {
    transform: scale(1.1);
  }

  .overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.6);
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.4s ease;
    text-align: center;
    padding: 15px;
  }

  .gallery-item:hover .overlay {
    opacity: 1;
  }

  .overlay p {
    margin-bottom: 10px;
    font-size: 1.1em;
    font-weight: bold;
  }

  .overlay .btn {
    background: #ff4081;
    color: #fff;
    padding: 8px 16px;
    border-radius: 20px;
    text-decoration: none;
    font-weight: bold;
    transition: background 0.3s ease;
  }

  .overlay .btn:hover {
    background: #e73370;
  }
</style>




  <!-- ABOUT & CONTACT -->
  <section class="section alt" id="about" style="padding-top:24px">
    <div class="container">
      <div class="about-grid">
        <div>
          <h2 class="section-title" style="color:var(--accent)">About Us</h2>
          <p class="muted">We‚Äôre a home bakery crafting fresh, fluffy cakes that melt in your tongue. From birthdays to weddings and everything in between, we bake with love and top-quality ingredients.</p>
          <ul style="margin-top:12px;color:rgba(255,255,255,0.95)">
            <li>Same-day bakes (when available)</li>
            <li>Custom designs & messages</li>
            <li>Free pick-up in Kibomet ‚Äì Namawanga</li>
          </ul>
        </div>
        <aside>
          <div class="contact-card">
            <h3 style="margin-top:0;color:var(--purple-1)">Order Direct</h3>
            <a href="tel:+254706098555">Call: 0706 098 555</a>
            <a href="mailto:berrybutter998@gmail.com">Email: berrybutter998@gmail.com</a>
            <a href="https://goo.gl/maps/" target="_blank" rel="noopener">Find us: Kibomet ‚Äì Namawanga</a>
          </div>
        </aside>
      </div>
    </div>
  </section>

  <!-- CONTACT FORM -->
  <section class="section" id="contact" style="padding-bottom:36px">
    <div class="container">
      <div class="section-title">Contact & Orders</div>
      <div style="max-width:700px;margin:12px auto;background:rgba(255,255,255,0.06);padding:16px;border-radius:12px">
        <form id="orderForm">
          <div style="display:flex;gap:10px;flex-wrap:wrap">
            <input name="name" placeholder="Your name" required style="flex:1;padding:10px;border-radius:10px;border:0">
            <input name="phone" placeholder="Phone" required style="flex:1;padding:10px;border-radius:10px;border:0">
          </div>
          <textarea name="notes" rows="4" placeholder="Order details..." style="width:100%;margin-top:10px;padding:10px;border-radius:10px;border:0"></textarea>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button class="btn btn-primary" type="submit">Send Request</button>
            <a class="btn btn-ghost" href="https://wa.me/254706098555?text=Hi%20Berry%20%26%20Butter!" target="_blank">WhatsApp</a>
          </div>
        </form>
      </div>
    </div>
  </section>

  <!-- Floating buttons -->
  <div class="floating" aria-hidden="false">
    <a class="float-btn float-wa" href="https://wa.me/254706098555" target="_blank" title="WhatsApp">üí¨</a>
    <a class="float-btn float-call" href="tel:+254706098555" title="Call">üìû</a>
  </div>

  <footer>
    ¬© <span id="year"></span> Berry & Butter Cakes ‚Äî Kibomet ‚Ä¢ Namawanga
  </footer>

  <script>
    // ---------- Config ----------
    const PHONE = '254706098555'; // international format without + sign for WhatsApp links. Change if needed.

    // ---------- Utils ----------
    const $ = (sel, ctx=document) => ctx.querySelector(sel);
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
    const formatPrice = n => 'Ksh. ' + n.toLocaleString();

    // ---------- Mobile nav toggle ----------
    const menuToggle = document.getElementById('menuToggle');
    const nav = document.getElementById('nav');
    menuToggle.addEventListener && menuToggle.addEventListener('click', () => {
      nav.style.display = nav.style.display === 'flex' ? 'none' : 'flex';
    });

    // ---------- Slideshow pause on hover ----------
    const slides = document.getElementById('slides');
    slides.addEventListener && slides.addEventListener('mouseenter', () => {
      $$('img', slides).forEach(img => img.style.animationPlayState = 'paused');
    });
    slides.addEventListener && slides.addEventListener('mouseleave', () => {
      $$('img', slides).forEach(img => img.style.animationPlayState = 'running');
    });

    // ---------- Year ----------
    document.getElementById('year').textContent = new Date().getFullYear();

    // ---------- CART LOGIC ----------
    const cartKey = 'berry_butter_cart_v1';
    let cart = JSON.parse(localStorage.getItem(cartKey) || '[]');

    const cartBtn = document.getElementById('cartBtn');
    const cartBadge = document.getElementById('cartBadge');
    const cartDrop = document.getElementById('cartDrop');
    const cartItemsEl = document.getElementById('cartItems');
    const cartTotalEl = document.getElementById('cartTotal');
    const checkoutBtn = document.getElementById('checkoutBtn');

    function saveCart(){ localStorage.setItem(cartKey, JSON.stringify(cart)); }
    function cartCount(){ return cart.reduce((s,i)=>s+i.qty,0); }
    function cartSum(){ return cart.reduce((s,i)=>s + i.price * i.qty,0); }
    function showBadge(){
      const c = cartCount();
      if(c>0){ cartBadge.style.display='inline-flex'; cartBadge.textContent = c; } else { cartBadge.style.display='none'; }
    }

    function renderCart(){
      cartItemsEl.innerHTML = '';
      if(cart.length === 0){
        cartItemsEl.innerHTML = '<div class="empty">Your cart is empty</div>';
      } else {
        cart.forEach(item => {
          const itemEl = document.createElement('div');
          itemEl.className = 'cart-item';

          const thumb = document.createElement('img');
          thumb.className = 'thumb';
          // attempt to guess an image path from id (fallback)
          thumb.src = item.img || `images/${item.id}.jpg`;
          thumb.alt = item.name;

          const meta = document.createElement('div');
          meta.className = 'meta';
          meta.innerHTML = `<div class="name">${item.name}</div><div class="price">${formatPrice(item.price)}</div>`;

          const qtyWrap = document.createElement('div');
          qtyWrap.className = 'qty-controls';
          const minus = document.createElement('button');
          minus.type = 'button'; minus.textContent='-';
          minus.addEventListener('click', ()=> changeQty(item.id, -1));
          const qty = document.createElement('span'); qty.textContent = item.qty; qty.style.minWidth='22px'; qty.style.display='inline-block'; qty.style.textAlign='center';
          const plus = document.createElement('button');
          plus.type = 'button'; plus.textContent='+';
          plus.addEventListener('click', ()=> changeQty(item.id, +1));
          const remove = document.createElement('button');
          remove.type='button'; remove.textContent='Remove';
          remove.style.marginLeft='8px';
          remove.addEventListener('click', ()=> removeItem(item.id));

          qtyWrap.appendChild(minus); qtyWrap.appendChild(qty); qtyWrap.appendChild(plus); qtyWrap.appendChild(remove);

          itemEl.appendChild(thumb);
          itemEl.appendChild(meta);
          itemEl.appendChild(qtyWrap);

          cartItemsEl.appendChild(itemEl);
        });
      }
      cartTotalEl.textContent = formatPrice(cartSum());
      showBadge();
      saveCart();
    }

    function addToCart(id,name,price,img){
      const existing = cart.find(i=>i.id===id);
      if(existing){ existing.qty += 1; }
      else cart.push({ id, name, price: Number(price), qty:1, img: img || null });
      renderCart();
      // small visual feedback
      flash(`${name} added to cart`);
    }

    function changeQty(id, delta){
      const it = cart.find(i=>i.id===id);
      if(!it) return;
      it.qty += delta;
      if(it.qty <= 0){
        cart = cart.filter(i=>i.id !== id);
      }
      renderCart();
    }
    function removeItem(id){
      cart = cart.filter(i=>i.id !== id);
      renderCart();
    }

    // attach add buttons
    $$('.add').forEach(btn=>{
      btn.addEventListener('click', e=>{
        const id = btn.getAttribute('data-id');
        const name = btn.getAttribute('data-name');
        const price = Number(btn.getAttribute('data-price'));
        const card = btn.closest('.card');
        const imgEl = card ? card.querySelector('img') : null;
        const img = imgEl ? imgEl.getAttribute('src') : null;
        addToCart(id,name,price,img);
      });
    });

    // cart open/close
    cartBtn.addEventListener('click', (e)=>{
      cartDrop.classList.toggle('active');
    });

    // close when clicking outside
    document.addEventListener('click', (e)=>{
      const withinCart = e.composedPath().includes(cartDrop) || e.composedPath().includes(cartBtn);
      if(!withinCart) cartDrop.classList.remove('active');
    });

    // checkout via WhatsApp - builds message
    checkoutBtn.addEventListener('click', ()=>{
      if(cart.length === 0){
        alert('Your cart is empty.');
        return;
      }
      const lines = [];
      lines.push('Order from Berry & Butter Cakes:');
      cart.forEach(it => lines.push(`${it.qty} x ${it.name} - Ksh. ${ (it.price * it.qty).toLocaleString() }`));
      lines.push('');
      lines.push(`Subtotal: Ksh. ${ cartSum().toLocaleString() }`);
      lines.push('');
      lines.push('Please contact me to confirm delivery/pickup:');
      const msg = encodeURIComponent(lines.join('\n'));
      const wa = `https://wa.me/${PHONE}?text=${msg}`;
      window.open(wa,'_blank');
    });

    // small toast/flash
    function flash(txt){
      const el = document.createElement('div');
      el.textContent = txt;
      el.style.position='fixed';
      el.style.left='50%';
      el.style.top='90%';
      el.style.transform='translateX(-50%)';
      el.style.background='rgba(0,0,0,0.7)';
      el.style.color='#fff';
      el.style.padding='8px 14px';
      el.style.borderRadius='999px';
      el.style.zIndex='9999';
      el.style.opacity='0';
      el.style.transition='opacity .18s, transform .18s';
      document.body.appendChild(el);
      requestAnimationFrame(()=>{ el.style.opacity='1'; el.style.transform='translateX(-50%) translateY(-6px)' });
      setTimeout(()=>{ el.style.opacity='0'; el.style.transform='translateX(-50%) translateY(0)'; setTimeout(()=>el.remove(),220); }, 1400);
    }

    // load cart initially
    renderCart();

    // ORDER form handling (simple: open WhatsApp with filled message)
    document.getElementById('orderForm').addEventListener('submit', function(ev){
      ev.preventDefault();
      const form = new FormData(this);
      const name = form.get('name') || '';
      const phone = form.get('phone') || '';
      const notes = form.get('notes') || '';
      const lines = [
        `Hi Berry & Butter, I want to place an order.`,
        `Name: ${name}`,
        `Phone: ${phone}`,
        `Notes: ${notes}`,
        `Subtotal: Ksh. ${cartSum().toLocaleString()}`,
        '',
        'Order items:'
      ];
      cart.forEach(it => lines.push(`${it.qty} x ${it.name} - Ksh. ${ (it.price * it.qty).toLocaleString() }`));
      const msg = encodeURIComponent(lines.join('\n'));
      const wa = `https://wa.me/${PHONE}?text=${msg}`;
      window.open(wa,'_blank');
    });

    // Accessibility: keyboard toggle cart via Enter on cart button
    cartBtn.addEventListener('keyup', e => { if(e.key === 'Enter') cartDrop.classList.toggle('active'); });

    // Save cart periodically (in case)
    setInterval(saveCart, 5000);
  </script>
</body>
</html>
